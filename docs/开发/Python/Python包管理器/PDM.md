<font style="color:rgb(31, 35, 40);">PDM æ—¨åœ¨æˆä¸ºä¸‹ä¸€ä»£ Python è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚å®ƒæœ€åˆæ˜¯ä¸ºä¸ªäººå…´è¶£è€Œè¯ç”Ÿçš„ã€‚å¦‚æœä½ è§‰å¾— </font>`<font style="color:rgb(31, 35, 40);">pipenv</font>`<font style="color:rgb(31, 35, 40);"> æˆ–è€… </font>`<font style="color:rgb(31, 35, 40);">poetry</font>`<font style="color:rgb(31, 35, 40);"> ç”¨ç€éå¸¸å¥½ï¼Œå¹¶ä¸æƒ³å¼•å…¥ä¸€ä¸ªæ–°çš„åŒ…ç®¡ç†å™¨ï¼Œé‚£ä¹ˆç»§ç»­ä½¿ç”¨å®ƒä»¬å§ï¼›ä½†å¦‚æœä½ å‘ç°æœ‰äº›ä¸œè¥¿è¿™äº› å·¥å…·ä¸æ”¯æŒï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½å¯ä»¥åœ¨ </font>`<font style="color:rgb(31, 35, 40);">pdm</font>`<font style="color:rgb(31, 35, 40);"> ä¸­æ‰¾åˆ°ã€‚</font>

## <font style="color:rgb(31, 35, 40);">ä¸»è¦ç‰¹æ€§</font>
+ <font style="color:rgb(31, 35, 40);">ä¸€ä¸ªç®€å•ä¸”ç›¸å¯¹å¿«é€Ÿçš„ä¾èµ–è§£æå™¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§çš„äºŒè¿›åˆ¶åŒ…å‘å¸ƒã€‚</font>
+ <font style="color:rgb(31, 35, 40);">å…¼å®¹</font><font style="color:rgb(31, 35, 40);"> </font>[PEP 517](https://www.python.org/dev/peps/pep-0517)<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">çš„æ„å»ºåç«¯ï¼Œç”¨äºæ„å»ºå‘å¸ƒåŒ…(æºç æ ¼å¼ä¸ wheel æ ¼å¼)</font>
+ <font style="color:rgb(31, 35, 40);">çµæ´»ä¸”å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿ</font>
+ [PEP 621](https://www.python.org/dev/peps/pep-0621)<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">å…ƒæ•°æ®æ ¼å¼</font>
+ <font style="color:rgb(31, 35, 40);">åŠŸèƒ½å¼ºå¤§çš„ç”¨æˆ·è„šæœ¬</font>
+ <font style="color:rgb(31, 35, 40);">æ”¯æŒä»</font><font style="color:rgb(31, 35, 40);"> </font>[indygreg's python-build-standalone](https://github.com/indygreg/python-build-standalone)<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">å®‰è£… Pythonã€‚</font>
+ <font style="color:rgb(31, 35, 40);">åƒ</font><font style="color:rgb(31, 35, 40);"> </font>[pnpm](https://pnpm.io/motivation#saving-disk-space-and-boosting-installation-speed)<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">ä¸€æ ·çš„ä¸­å¿ƒåŒ–å®‰è£…ç¼“å­˜ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</font>

## <font style="color:rgb(31, 35, 40);">ä¸å…¶ä»–åŒ…ç®¡ç†å™¨çš„æ¯”è¾ƒ</font>
### [Pipenv](https://pipenv.pypa.io/)
<font style="color:rgb(31, 35, 40);">Pipenv æ˜¯ä¸€ä¸ªä¾èµ–ç®¡ç†å™¨ï¼Œå®ƒç»“åˆäº†</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pip</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">å’Œ</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">venv</font>`<font style="color:rgb(31, 35, 40);">ï¼Œæ­£å¦‚å…¶åç§°æ‰€æš—ç¤ºçš„ã€‚å®ƒå¯ä»¥ä»ä¸€ç§è‡ªå®šä¹‰æ ¼å¼æ–‡ä»¶</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">Pipfile.lock</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æˆ–</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">Pipfile</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">ä¸­å®‰è£…è½¯ä»¶åŒ…ã€‚ ç„¶è€Œï¼ŒPipenv å¹¶ä¸å¤„ç†ä»»ä½•ä¸æ„å»ºã€æ‰“åŒ…å’Œå‘å¸ƒç›¸å…³çš„å·¥ä½œã€‚æ‰€ä»¥å®ƒåªé€‚ç”¨äºå¼€å‘ä¸å¯å®‰è£…çš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ Django ç½‘ç«™ï¼‰ã€‚ å¦‚æœä½ æ˜¯ä¸€ä¸ªåº“çš„å¼€å‘è€…ï¼Œæ— è®ºå¦‚ä½•ä½ éƒ½éœ€è¦</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">setuptools</font>`<font style="color:rgb(31, 35, 40);">ã€‚</font>

### [Poetry](https://python-poetry.org/)
<font style="color:rgb(31, 35, 40);">Poetry ä»¥ç±»ä¼¼äº Pipenv çš„æ–¹å¼ç®¡ç†ç¯å¢ƒå’Œä¾èµ–ï¼Œå®ƒä¹Ÿå¯ä»¥ä»ä½ çš„ä»£ç æ„å»º</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">.whl</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥å°†è½®å­å’Œæºç å‘è¡Œç‰ˆä¸Šä¼ åˆ° PyPIã€‚ å®ƒæœ‰ä¸€ä¸ªæ¼‚äº®çš„ç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è´¡çŒ®æ’ä»¶æ¥å®šåˆ¶å®ƒã€‚Poetry ä½¿ç”¨</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pyproject.toml</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ ‡å‡†ã€‚</font>

### [Hatch](https://hatch.pypa.io/)
<font style="color:rgb(31, 35, 40);">Hatch ä¹Ÿå¯ä»¥ç®¡ç†ç¯å¢ƒï¼ˆå®ƒå…è®¸æ¯ä¸ªé¡¹ç›®æœ‰å¤šä¸ªç¯å¢ƒï¼Œä½†ä¸å…è®¸æŠŠå®ƒä»¬æ”¾åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥ç®¡ç†åŒ…ï¼ˆä½†ä¸æ”¯æŒ lockfileï¼‰ã€‚Hatch ä¹Ÿå¯ä»¥ç”¨æ¥æ‰“åŒ…ä¸€ä¸ªé¡¹ç›®ï¼ˆç”¨ç¬¦åˆ PEP 621 æ ‡å‡†çš„</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pyproject.toml</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ–‡ä»¶ï¼‰å¹¶ä¸Šä¼ åˆ° PyPIã€‚</font>

### <font style="color:rgb(31, 35, 40);">æœ¬é¡¹ç›®</font>
<font style="color:rgb(31, 35, 40);">PDM ä¹Ÿå¯ä»¥åƒ Pipenv é‚£æ ·åœ¨é¡¹ç›®æˆ–é›†ä¸­çš„ä½ç½®ç®¡ç† venvsã€‚å®ƒä»ä¸€ä¸ªæ ‡å‡†åŒ–çš„</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pyproject.toml</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ–‡ä»¶ä¸­è¯»å–é¡¹ç›®å…ƒæ•°æ®ï¼Œå¹¶æ”¯æŒ lockfileã€‚ç”¨æˆ·å¯ä»¥åœ¨æ’ä»¶ä¸­æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªå‘è¡Œç‰ˆä¸Šä¼ ï¼Œä»¥ä¾›åˆ†äº«ã€‚</font>

<font style="color:rgb(31, 35, 40);">æ­¤å¤–ï¼Œä¸ Poetry å’Œ Hatch ä¸åŒï¼ŒPDM å¹¶æ²¡æœ‰è¢«å’Œä¸€ä¸ªç‰¹å®šçš„æ„å»ºåç«¯ç»‘å®šï¼Œä½ å¯ä»¥é€‰æ‹©ä»»ä½•ä½ å–œæ¬¢çš„æ„å»ºåç«¯ã€‚</font>

## <font style="color:rgb(31, 35, 40);">å®‰è£…</font>
<font style="color:rgb(31, 35, 40);">PDM éœ€è¦ Python 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</font>

### <font style="color:rgb(31, 35, 40);">é€šè¿‡å®‰è£…è„šæœ¬</font>
<font style="color:rgb(31, 35, 40);">åƒ pip ä¸€æ ·ï¼ŒPDM ä¹Ÿæä¾›äº†ä¸€é”®å®‰è£…è„šæœ¬ï¼Œç”¨æ¥å°† PDM å®‰è£…åœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒä¸­ã€‚</font>

**<font style="color:rgb(31, 35, 40);">Linux/Mac å®‰è£…å‘½ä»¤</font>**

<font style="color:rgb(31, 35, 40);">curl -sSL https://pdm-project.org/install-pdm.py | python3 -</font>

**<font style="color:rgb(31, 35, 40);">Windows å®‰è£…å‘½ä»¤</font>**

<font style="color:rgb(31, 35, 40);">powershell -ExecutionPolicy ByPass -c "irm https://pdm-project.org/install-pdm.py | py -"</font>

<font style="color:rgb(31, 35, 40);">ä¸ºå®‰å…¨èµ·è§ï¼Œä½ åº”è¯¥æ£€æŸ¥</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">install-pdm.py</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ–‡ä»¶çš„æ­£ç¡®æ€§ã€‚ æ ¡éªŒå’Œæ–‡ä»¶ä¸‹è½½åœ°å€ï¼š</font>[install-pdm.py.sha256](https://pdm-project.org/install-pdm.py.sha256)

<font style="color:rgb(31, 35, 40);">é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è„šæœ¬ä¼šå°† PDM å®‰è£…åœ¨ Python çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå…·ä½“ä½ç½®å–å†³äºå½“å‰ç³»ç»Ÿï¼š</font>

+ <font style="color:rgb(31, 35, 40);">Unix ä¸Šæ˜¯</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">$HOME/.local/bin</font>`
+ <font style="color:rgb(31, 35, 40);">MacOS ä¸Šæ˜¯</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">$HOME/Library/Python/<version>/bin</font>`
+ <font style="color:rgb(31, 35, 40);">Windows ä¸Šæ˜¯</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">%APPDATA%\Python\Scripts</font>`

<font style="color:rgb(31, 35, 40);">ä½ è¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„é€‰é¡¹æ¥æ”¹å˜å®‰è£…è„šæœ¬çš„è¡Œä¸ºï¼š</font>

```plain
usage: install-pdm.py [-h] [-v VERSION] [--prerelease] [--remove] [-p PATH] [-d DEP]

optional arguments:
  -h, --help            show this help message and exit
  -v VERSION, --version VERSION | envvar: PDM_VERSION
                        Specify the version to be installed, or HEAD to install from the main branch
  --prerelease | envvar: PDM_PRERELEASE    Allow prereleases to be installed
  --remove | envvar: PDM_REMOVE            Remove the PDM installation
  -p PATH, --path PATH | envvar: PDM_HOME  Specify the location to install PDM
  -d DEP, --dep DEP | envvar: PDM_DEPS     Specify additional dependencies, can be given multiple times
```

<font style="color:rgb(31, 35, 40);">ä½ æ—¢å¯ä»¥é€šè¿‡ç›´æ¥å¢åŠ é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡æ¥è¾¾åˆ°è¿™ä¸€æ•ˆæœã€‚</font>

### <font style="color:rgb(31, 35, 40);">å…¶ä»–å®‰è£…æ–¹æ³•</font>
<font style="color:rgb(31, 35, 40);">å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ macOS å¹¶ä¸”å®‰è£…äº†</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">homebrew</font>`<font style="color:rgb(31, 35, 40);">ï¼š</font>

<font style="color:rgb(31, 35, 40);">brew install pdm</font>

<font style="color:rgb(31, 35, 40);">å¦‚æœä½ åœ¨ Windows ä¸Šä½¿ç”¨</font><font style="color:rgb(31, 35, 40);"> </font>[Scoop](https://scoop.sh/)<font style="color:rgb(31, 35, 40);">, è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</font>

```plain
scoop bucket add frostming https://github.com/frostming/scoop-frostming.git
scoop install pdm
```

<font style="color:rgb(31, 35, 40);">å¦åˆ™ï¼Œå¼ºçƒˆæ¨èæŠŠ</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pdm</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">å®‰è£…åœ¨ä¸€ä¸ªéš”ç¦»ç¯å¢ƒä¸­ï¼Œ ç”¨</font><font style="color:rgb(31, 35, 40);"> </font>`<font style="color:rgb(31, 35, 40);">pipx</font>`<font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">æ˜¯æœ€å¥½çš„ã€‚</font>

<font style="color:rgb(31, 35, 40);">pipx install pdm</font>

<font style="color:rgb(31, 35, 40);">æˆ–è€…ä½ å¯ä»¥å°†å®ƒå®‰è£…åœ¨ç”¨æˆ·ç›®å½•ä¸‹:</font>

<font style="color:rgb(31, 35, 40);">pip install --user pdm</font>

[asdf-vm](https://asdf-vm.com/)

```plain
asdf plugin add pdm
asdf install pdm latest
```

## <font style="color:rgb(31, 35, 40);">å¿«é€Ÿä¸Šæ‰‹</font>
**<font style="color:rgb(31, 35, 40);">åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ PDM é¡¹ç›®</font>**

```python
pdm init
```

<font style="color:rgb(31, 35, 40);">æŒ‰ç…§æŒ‡å¼•å›ç­”æç¤ºçš„é—®é¢˜ï¼Œä¸€ä¸ª PDM é¡¹ç›®å’Œå¯¹åº”çš„</font>`<font style="color:rgb(31, 35, 40);">pyproject.toml</font>`<font style="color:rgb(31, 35, 40);">æ–‡ä»¶å°±åˆ›å»ºå¥½äº†ã€‚</font>

**<font style="color:rgb(31, 35, 40);">æ·»åŠ ä¾èµ–</font>**

```python
pdm add requests flask
```

<font style="color:rgb(31, 35, 40);">ä½ å¯ä»¥åœ¨åŒä¸€æ¡å‘½ä»¤ä¸­æ·»åŠ å¤šä¸ªä¾èµ–ã€‚ç¨ç­‰ç‰‡åˆ»å®Œæˆä¹‹åï¼Œä½ å¯ä»¥æŸ¥çœ‹</font>`<font style="color:rgb(31, 35, 40);">pdm.lock</font>`<font style="color:rgb(31, 35, 40);">æ–‡ä»¶çœ‹çœ‹æœ‰å“ªäº›ä¾èµ–ä»¥åŠå¯¹åº”ç‰ˆæœ¬ã€‚</font>

<font style="color:rgb(31, 35, 40);"></font>

## å®˜æ–¹æ–‡æ¡£
[https://pdm-project.org/en/latest/](https://pdm-project.org/en/latest/)

[https://pdm-project.org/zh-cn/latest/](https://pdm-project.org/zh-cn/latest/)

# ä½¿ç”¨ uv
<font style="color:rgba(0, 0, 0, 0.87);">PDM å¯¹ </font>[uv](https://github.com/astral-sh/uv)<font style="color:rgba(0, 0, 0, 0.87);"> ä½œä¸ºè§£æå™¨å’Œå®‰è£…å™¨æœ‰å®éªŒæ€§æ”¯æŒã€‚è¦å¯ç”¨å®ƒï¼š</font>

```toml
pdm config use_uv true
```

<font style="color:rgba(0, 0, 0, 0.87);">PDM å°†è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸Šçš„</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`uv`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä½ éœ€è¦å…ˆå®‰è£…</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`uv`<font style="color:rgba(0, 0, 0, 0.87);">ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚é˜…</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>[uv çš„å®‰è£…æŒ‡å—](https://docs.astral.sh/uv/getting-started/installation/)<font style="color:rgba(0, 0, 0, 0.87);">ã€‚</font>

## <font style="color:rgba(0, 0, 0, 0.87);">Reuse the Python installations of uv</font>[#](https://pdm-project.org/zh-cn/latest/usage/uv/#reuse-the-python-installations-of-uv)
<font style="color:rgba(0, 0, 0, 0.87);">uv ä¹Ÿæ”¯æŒå®‰è£… Python è§£é‡Šå™¨ã€‚ä¸ºé¿å…å¼€é”€ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½® PDM ä»¥å¤ç”¨ uv çš„ Python å®‰è£…ï¼š</font>

```toml
pdm config python.install_root $(uv python dir)
```

## <font style="color:rgba(0, 0, 0, 0.87);">å±€é™æ€§</font>
<font style="color:rgba(0, 0, 0, 0.87);">å°½ç®¡ uv å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œä½†éœ€è¦æ³¨æ„ uv çš„ä»¥ä¸‹å±€é™æ€§ï¼š</font>

+ <font style="color:rgba(0, 0, 0, 0.87);">ç¼“å­˜æ–‡ä»¶å­˜å‚¨åœ¨ uv è‡ªå·±çš„ç¼“å­˜ç›®å½•ä¸­ï¼Œä½ å¿…é¡»ä½¿ç”¨</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`uv`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">å‘½ä»¤æ¥ç®¡ç†å®ƒä»¬ã€‚</font>
+ <font style="color:rgba(0, 0, 0, 0.87);">ä¸æ”¯æŒ PEP 582 æœ¬åœ°åŒ…å¸ƒå±€ã€‚</font>
+ <font style="color:rgba(0, 0, 0, 0.87);">uv ä¸æ”¯æŒ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`inherit_metadata`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">é”å®šç­–ç•¥ã€‚ åœ¨å†™å…¥é”å®šæ–‡ä»¶æ—¶ï¼Œè¿™å°†è¢«å¿½ç•¥ã€‚</font>
+ <font style="color:rgba(0, 0, 0, 0.87);">ä¸æ”¯æŒé™¤</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`all`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">å’Œ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`reuse`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä¹‹å¤–çš„æ›´æ–°ç­–ç•¥ã€‚</font>
+ <font style="color:rgba(0, 0, 0, 0.87);">å¯ç¼–è¾‘éœ€æ±‚å¿…é¡»æ˜¯æœ¬åœ°è·¯å¾„ã€‚åƒ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`-e git+<git_url>`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">è¿™æ ·çš„éœ€æ±‚ä¸è¢«æ”¯æŒã€‚</font>
+ `[tool.pdm.resolution]`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä¸‹çš„</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`excludes`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">è®¾ç½®ä¸è¢«æ”¯æŒã€‚</font>
+ <font style="color:rgba(0, 0, 0, 0.87);">uv è§£æå™¨ä¸æ”¯æŒè·¨å¹³å°é”å®šç›®æ ‡ï¼Œå³ï¼Œä½ æ— æ³•é’ˆå¯¹ä¸å½“å‰å¹³å°ä¸åŒçš„å¹³å°è¿›è¡Œé”å®šæ“ä½œã€‚</font>

## é…ç½®é¡¹ç›®
### <font style="color:rgba(0, 0, 0, 0.87);">ä¾èµ–ç®¡ç†</font>
<font style="color:rgba(0, 0, 0, 0.87);">ä¾èµ–ç®¡ç†å¯¹äºå¼€å‘è€…èƒ½å¤Ÿå·¥ä½œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œæ˜¯å¿…éœ€çš„ï¼š</font>

+ `lock`<font style="color:rgba(0, 0, 0, 0.87);">ï¼šä»</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`pyproject.toml`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">çš„ä¾èµ–è®¡ç®—ä¸€ä¸ªé”å®šæ–‡ä»¶ã€‚</font>
+ `sync`<font style="color:rgba(0, 0, 0, 0.87);">ï¼šåŒæ­¥ï¼ˆæ·»åŠ /åˆ é™¤/æ›´æ–°ï¼‰PEP582 åŒ…ï¼Œä»é”å®šæ–‡ä»¶ä¸­å®‰è£…å½“å‰é¡¹ç›®ä¸ºå¯ç¼–è¾‘çŠ¶æ€ã€‚</font>
+ `add`<font style="color:rgba(0, 0, 0, 0.87);">ï¼šæ·»åŠ ä¸€ä¸ªä¾èµ–</font>
+ `remove`<font style="color:rgba(0, 0, 0, 0.87);">ï¼šç§»é™¤ä¸€ä¸ªä¾èµ–</font>

<font style="color:rgba(0, 0, 0, 0.87);">æ‰€æœ‰è¿™äº›æ­¥éª¤éƒ½ç›´æ¥å¯ç”¨ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</font>

+ [pdm lock](https://pdm-project.org/zh-cn/latest/reference/cli/#lock)<font style="color:rgba(0, 0, 0, 0.87);">: æ‰§è¡Œ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`lock`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä»»åŠ¡</font>
+ [pdm sync](https://pdm-project.org/zh-cn/latest/reference/cli/#sync)<font style="color:rgba(0, 0, 0, 0.87);">: æ‰§è¡Œ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`sync`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä»»åŠ¡</font>
+ [pdm install](https://pdm-project.org/zh-cn/latest/reference/cli/#install)<font style="color:rgba(0, 0, 0, 0.87);">: æ‰§è¡Œ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`sync`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä»»åŠ¡ï¼Œå¦‚æœéœ€è¦ï¼Œåˆ™åœ¨æ­¤ä¹‹å‰æ‰§è¡Œ</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`lock`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä»»åŠ¡</font>
+ [pdm add](https://pdm-project.org/zh-cn/latest/reference/cli/#add)<font style="color:rgba(0, 0, 0, 0.87);">: æ·»åŠ ä¸€ä¸ªä¾èµ–è¦æ±‚ï¼Œé‡æ–°é”å®šï¼Œç„¶ååŒæ­¥</font>
+ [pdm remove](https://pdm-project.org/zh-cn/latest/reference/cli/#remove)<font style="color:rgba(0, 0, 0, 0.87);">: åˆ é™¤ä¸€ä¸ªä¾èµ–è¦æ±‚ï¼Œé‡æ–°é”å®šï¼Œç„¶ååŒæ­¥</font>
+ [pdm update](https://pdm-project.org/zh-cn/latest/reference/cli/#update)<font style="color:rgba(0, 0, 0, 0.87);">: ä»å®ƒä»¬çš„æœ€æ–°ç‰ˆæœ¬é‡æ–°é”å®šä¾èµ–é¡¹ï¼Œç„¶ååŒæ­¥</font>

<font style="color:rgba(0, 0, 0, 0.87);">å®ƒä»¬è§¦å‘ä»¥ä¸‹é’©å­ï¼š</font>

+ [pre_install](https://pdm-project.org/zh-cn/latest/reference/api/#pdm.signals.pre_install)
+ [post_install](https://pdm-project.org/zh-cn/latest/reference/api/#pdm.signals.post_install)
+ [pre_lock](https://pdm-project.org/zh-cn/latest/reference/api/#pdm.signals.pre_lock)
+ [post_lock](https://pdm-project.org/zh-cn/latest/reference/api/#pdm.signals.post_lock)

### é…ç½®æ–‡ä»¶èŒƒä¾‹
```toml
[project]
name = "my-package"
version = "0.1.0"
description = "è¿™æ˜¯ä¸€ä¸ªç®€å•çš„Pythonç¤ºä¾‹åŒ…"
readme = "README.md"
license = { text = "MIT" }

authors = [
    { name = "Your Name", email = "your.email@example.com" }
]

# æ³¨æ„ï¼šmaintainers å­—æ®µä¸æ˜¯æ ‡å‡† PEP 621 å­—æ®µï¼Œå¯æ³¨é‡Š
# maintainers = [
#     { name = "Maintainer Name", email = "maintainer.email@example.com" }
# ]

requires-python = ">=3.7"

keywords = ["example", "package", "pdm"]

classifiers = [
    "Programming Language :: Python",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]

homepage = "https://example.com"
repository = "https://github.com/your-username/my-package"
documentation = "https://example.com/docs"

dependencies = [
    "requests>=2.25.1"
]

[project.optional-dependencies]
mysql = ["mysqlclient>=1.3"]
pgsql = ["psycopg2>=2.9"]

[project.scripts]
my_package_cli = "my_package.console:run"

[build-system]
requires = ["pdm-backend"]
build-backend = "pdm.backend"

# pdm ä¸“å±é…ç½®
[tool.pdm]
use_venv = true

[tool.pdm.dev-dependencies]
test = ["pytest"]
lint = ["black", "ruff"]

# è‡ªå®šä¹‰è„šæœ¬ï¼ˆå¯é€šè¿‡ pdm run ä½¿ç”¨ï¼‰
[tool.pdm.scripts]
test = "pytest"
lint = "black ."

# ä¸‹è½½æºé…ç½®
[[tool.pdm.source]]
name = "tsinghua"
url = "https://pypi.tuna.tsinghua.edu.cn/simple"
type = "index"
verify_ssl = true
default = true

[[tool.pdm.source]]
name = "aliyun"
url = "https://mirrors.aliyun.com/pypi/simple/"
type = "index"
verify_ssl = true

```

## Dockerfileé›†æˆ
<font style="color:rgba(0, 0, 0, 0.87);">å¯ä»¥åœ¨å¤šé˜¶æ®µ Dockerfile ä¸­ä½¿ç”¨ PDMï¼Œå…ˆå°†é¡¹ç›®å’Œä¾èµ–é¡¹å®‰è£…åˆ° </font>`__pypackages__`<font style="color:rgba(0, 0, 0, 0.87);"> ä¸­ï¼Œ ç„¶åå°†æ­¤æ–‡ä»¶å¤¹å¤åˆ¶åˆ°æœ€ç»ˆé˜¶æ®µï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° </font>`PYTHONPATH`<font style="color:rgba(0, 0, 0, 0.87);"> ä¸­ã€‚</font>

```dockerfile
ARG PYTHON_BASE=3.10-slim
# æ„å»ºé˜¶æ®µ
FROM python:$PYTHON_BASE AS builder

# å®‰è£… PDM
RUN pip install -U pdm
# ç¦ç”¨æ›´æ–°æ£€æŸ¥
ENV PDM_CHECK_UPDATE=false
# å¤åˆ¶æ–‡ä»¶
COPY pyproject.toml pdm.lock README.md /project/
COPY src/ /project/src

# å®‰è£…ä¾èµ–é¡¹å’Œé¡¹ç›®åˆ°æœ¬åœ°åŒ…ç›®å½•
WORKDIR /project
RUN pdm install --check --prod --no-editable

# è¿è¡Œé˜¶æ®µ
FROM python:$PYTHON_BASE

# ä»æ„å»ºé˜¶æ®µè·å–åŒ…
COPY --from=builder /project/.venv/ /project/.venv
ENV PATH="/project/.venv/bin:$PATH"
# è®¾ç½®å‘½ä»¤/å…¥å£ç‚¹ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´
COPY src /project/src
CMD ["python", "src/__main__.py"]
```

## <font style="color:rgba(0, 0, 0, 0.87);">ä½¿ç”¨ PDM ç®¡ç†å¤šä»“åº“</font>
<font style="color:rgba(0, 0, 0, 0.87);">ä½¿ç”¨ PDMï¼Œæ‚¨å¯ä»¥åœ¨å•ä¸ªé¡¹ç›®ä¸­æ‹¥æœ‰å¤šä¸ªå­åŒ…ï¼Œæ¯ä¸ªå­åŒ…éƒ½æœ‰è‡ªå·±çš„ pyproject.toml æ–‡ä»¶ã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª pdm.lock æ–‡ä»¶æ¥é”å®šæ‰€æœ‰ä¾èµ–é¡¹ã€‚å­åŒ…å¯ä»¥ç›¸äº’ä½œä¸ºå®ƒä»¬çš„ä¾èµ–é¡¹ã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</font>

`project/pyproject.toml`<font style="color:rgba(0, 0, 0, 0.87);">:</font>

```toml
[dependency-groups]
dev = [
    "-e file:///${PROJECT_ROOT}/packages/foo-core",
    "-e file:///${PROJECT_ROOT}/packages/foo-cli",
    "-e file:///${PROJECT_ROOT}/packages/foo-app",
]
```

`packages/foo-cli/pyproject.toml`<font style="color:rgba(0, 0, 0, 0.87);">:</font>

```toml
[project]
dependencies = ["foo-core"]
```

`packages/foo-app/pyproject.toml`<font style="color:rgba(0, 0, 0, 0.87);">:</font>

```toml
[project]
dependencies = ["foo-core"]
```

<font style="color:rgba(0, 0, 0, 0.87);">ç°åœ¨ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œ </font>`pdm install`<font style="color:rgba(0, 0, 0, 0.87);">ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªå¸¦æœ‰æ‰€æœ‰ä¾èµ–é¡¹é”å®šçš„ </font>`pdm.lock`<font style="color:rgba(0, 0, 0, 0.87);">ã€‚æ‰€æœ‰å­åŒ…å°†ä»¥å¯ç¼–è¾‘æ¨¡å¼å®‰è£…ã€‚</font>

<font style="color:rgba(0, 0, 0, 0.87);">æŸ¥çœ‹ </font>[ğŸš€ ç¤ºä¾‹å­˜å‚¨åº“](https://github.com/pdm-project/pdm-example-monorepo)<font style="color:rgba(0, 0, 0, 0.87);"> è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</font>

## æ„å»ºå’Œå‘å¸ƒ
<font style="color:rgba(0, 0, 0, 0.87);">å¦‚æœæ‚¨æ­£åœ¨å¼€å‘åº“ï¼Œåˆ™åœ¨å‘é¡¹ç›®æ·»åŠ ä¾èµ–é¡¹å¹¶å®Œæˆç¼–ç åï¼Œå°±å¯ä»¥æ„å»ºå’Œå‘å¸ƒåŒ…äº†ã€‚å®ƒå°±åƒä¸€ä¸ªå‘½ä»¤ä¸€æ ·ç®€å•ï¼š</font>

```toml
pdm publish
```

<font style="color:rgba(0, 0, 0, 0.87);">è¿™å°†è‡ªåŠ¨æ„å»ºä¸€ä¸ªè½®å­å’Œä¸€ä¸ªæºåˆ†å‘ï¼ˆsdistï¼‰ï¼Œå¹¶å°†å®ƒä»¬ä¸Šä¼ åˆ° PyPI ç´¢å¼•ã€‚</font>

<font style="color:rgba(0, 0, 0, 0.87);">PyPI éœ€è¦ API ä»¤ç‰Œæ‰èƒ½å‘å¸ƒåŒ…ï¼Œå¯ä»¥ä½¿ç”¨</font><font style="color:rgba(0, 0, 0, 0.87);"> </font>`__token__`<font style="color:rgba(0, 0, 0, 0.87);"> </font><font style="color:rgba(0, 0, 0, 0.87);">ä½œä¸ºç”¨æˆ·åï¼Œä½¿ç”¨ API ä»¤ç‰Œä½œä¸ºå¯†ç ã€‚</font>

<font style="color:rgba(0, 0, 0, 0.87);">è¦æŒ‡å®š PyPI ä»¥å¤–çš„å…¶ä»–å­˜å‚¨åº“ï¼Œè¯·ä½¿ç”¨é€‰é¡¹ </font>`--repository`<font style="color:rgba(0, 0, 0, 0.87);"> ï¼Œå‚æ•°å¯ä»¥æ˜¯ä¸Šä¼  URLï¼Œä¹Ÿå¯ä»¥æ˜¯å­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å­˜å‚¨åº“çš„åç§°ã€‚</font>

```toml
pdm publish --repository testpypi
pdm publish --repository https://test.pypi.org/legacy/
```

### <font style="color:rgba(0, 0, 0, 0.87);">ä½¿ç”¨å—ä¿¡ä»»çš„å‘å¸ƒè€…å‘å¸ƒ</font>
<font style="color:rgba(0, 0, 0, 0.87);">å¯ä»¥ä¸º PyPI é…ç½®å—ä¿¡ä»»çš„å‘å¸ƒè€…ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨å‘å¸ƒå·¥ä½œæµä¸­å…¬å¼€ PyPI ä»¤ç‰Œã€‚ ä¸ºæ­¤ï¼Œè¯·æŒ‰ç…§</font>[æŒ‡å—](https://docs.pypi.org/trusted-publishers/adding-a-publisher/)<font style="color:rgba(0, 0, 0, 0.87);">æ·»åŠ å‘å¸ƒè€…å¹¶ç¼–å†™ GitHub Actions å·¥ä½œæµï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</font>

```toml
on:
  release:
    types: [published]


jobs:
  pypi-publish:
    name: upload release to PyPI
    runs-on: ubuntu-latest
    permissions:
      # è¿™ä¸ªæƒé™æ˜¯ä¸ºäº†ç§æœ‰ä»“åº“ã€‚
      contents: read
      # é‡è¦æç¤ºï¼šè¿™ä¸ªæƒé™å¯¹äºå¯ä¿¡å‘å¸ƒæ˜¯å¿…éœ€çš„ã€‚
      id-token: write
    steps:
      - uses: actions/checkout@v4

      - uses: pdm-project/setup-pdm@v4

      - name: Publish package distributions to PyPI
        run: pdm publish
```

<font style="color:rgba(0, 0, 0, 0.87);"></font>

### <font style="color:rgba(0, 0, 0, 0.87);">å•ç‹¬ç”Ÿæˆå’Œå‘å¸ƒ</font>
<font style="color:rgba(0, 0, 0, 0.87);">æ‚¨è¿˜å¯ä»¥é€šè¿‡ä¸¤ä¸ªæ­¥éª¤æ„å»ºåŒ…å¹¶ä¸Šä¼ å®ƒï¼Œä»¥ä¾¿æ‚¨åœ¨ä¸Šä¼ ä¹‹å‰æ£€æŸ¥æ„å»ºçš„é¡¹ç›®ã€‚</font>

```toml
pdm build
```

<font style="color:rgba(0, 0, 0, 0.87);">æœ‰è®¸å¤šé€‰é¡¹å¯ä»¥æ§åˆ¶ç”Ÿæˆè¿‡ç¨‹ï¼Œå…·ä½“å–å†³äºä½¿ç”¨çš„åç«¯ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…</font>[æ„å»ºé…ç½®](https://pdm-project.org/zh-cn/latest/reference/build/)<font style="color:rgba(0, 0, 0, 0.87);">éƒ¨åˆ†ã€‚</font>

<font style="color:rgba(0, 0, 0, 0.87);">å·¥ä»¶å°†åœ¨ PyPI å¤„åˆ›å»º </font>`dist/`<font style="color:rgba(0, 0, 0, 0.87);"> å¹¶èƒ½å¤Ÿä¸Šä¼ åˆ° PyPIã€‚</font>

```toml
pdm publish --no-build
```

